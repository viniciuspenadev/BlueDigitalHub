RewriteEngine On

# Force HTTPS
# Verify if not HTTPS AND not behind a secure proxy (preventing loops on Easypanel/Cloudflare)
RewriteCond %{HTTPS} off
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Handle Language routes (e.g., /en/about -> index.php?lang=en)
# This is a simple implementation; complex routing can be added later.
